
This document is intentionally **non-poetic** and **implementation-forward**.

---

# Hub and Campaign Canonical Model — CUSTODIAN

## Status

**Canonical.**
This document defines the authoritative relationship between the Hub World and Campaign Worlds and supersedes conflicting interpretations in earlier design drafts.

If any other document disagrees with this model, **this document wins** unless explicitly revised.

---

## 1. Core Premise

CUSTODIAN operates on a **two-layer world model**:

* A **persistent Hub World** that accumulates history, knowledge, and long-term capability.
* A series of **transient Campaign Worlds** that are instantiated, resolved, and destroyed.

The player’s role is not to accumulate power directly, but to **formalize intent**, **execute operations**, and **preserve context** across an increasingly fragmented universe.

---

## 2. The Hub World (Persistent)

### Definition

The **Hub** is the only persistent world state in the game.

It represents:

* the Custodian’s operational continuity
* accumulated historical knowledge
* unlocked capabilities and future possibility space

The Hub does **not** simulate combat, movement, or geography in the same way as campaigns.

The Hub **exists outside time pressure**.

---

### Responsibilities of the Hub

The Hub is responsible for:

1. **Generating Campaign Offers**
2. **Storing Persistent Outcomes**
3. **Unlocking Future Possibilities**
4. **Providing Context for Interpretation**

The Hub does **not**:

* issue quests as a social actor
* contain NPC factions offering jobs
* act as an economy or marketplace

---

### Hub State (Conceptual)

```python
HubState:
  known_archetypes
  unlocked_scenarios
  difficulty_access
  historical_records
  interpretive_context
  capability_flags
  campaign_history
```

These fields represent **access, knowledge, and classification**, not raw stat increases.

---

## 3. Campaign Worlds (Transient)

### Definition

A **Campaign World** is a fully instantiated, self-contained simulation created from a selected scenario.

Each campaign:

* has its own base layout
* has its own sectors and threats
* operates under time pressure
* is destroyed on resolution

Campaign Worlds are **disposable by design**.

> The campaign world is expendable.
> The hub world is historical.

---

### Campaign State (Conceptual)

```python
CampaignState:
  scenario_id
  difficulty
  victory_condition
  constraints
  world_map
  sectors
  threats
  time
  expedition_state
  local_upgrades
```

Campaign state is **never merged** back into the Hub directly.

Only **outcomes** propagate.

---

## 4. Campaign Offers (Canonical Interpretation)

### Structural Truth

Campaign offers are **contracts as an interface**, not as a social fiction.

They are:

* generated by the Hub
* selected by the player
* formal commitments to an operation

They are **not**:

* issued by guilds
* requested by NPCs
* commercial jobs

---

### Narrative Interpretation

The Custodian is alone.

Campaigns are **self-authored operational assertions**:

* “This is worth investigating.”
* “This is worth preserving.”
* “This threat must be contained.”

The “contract” exists to:

* formalize intent
* bound scope
* define success conditions

---

### Campaign Scenario Definition

```python
CampaignScenario:
  id
  difficulty_rating        # descriptive tier
  biome / setting
  core_threat_type
  victory_condition
  constraints
  reward_profile
```

---

## 5. Recon (Pre-Campaign Refinement)

### Role of Recon

Recon is a **Hub-side process** that refines understanding of a campaign scenario *before* instantiation.

Recon:

* reduces uncertainty
* reveals categories, not specifics
* informs risk assessment

Recon does **not**:

* guarantee outcomes
* trivialize difficulty
* remove danger

---

### Recon Output Examples

* Threat classification confidence
* Likely victory condition type
* Expected loss vectors
* Reward category hints

Recon modifies **metadata**, not the simulation itself.

---

## 6. Campaign Resolution and Outcomes

Campaigns resolve into **graded outcomes**, not binary success/failure.

### Resolution States

* **Complete Victory**
* **Partial Victory**
* **Failure**
* **Abandonment**

All resolutions are **recorded**.

Only some yield rewards.

---

### Campaign Outcome Object

```python
CampaignOutcome:
  resolution_type
  objectives_completed
  objectives_failed
  artifacts_recovered
  losses_sustained
  degradation
```

---

## 7. Rewards and Persistence (Critical Distinction)

### A. Campaign Rewards (Hub-Persistent)

These are applied **only on campaign resolution**.

They mutate the Hub by:

* unlocking new scenario archetypes
* expanding difficulty access
* enabling new victory condition templates
* adding historical or interpretive records

They represent:

> **What the Hub now understands or can attempt next.**

They are **not** raw stat buffs.

---

### B. Expedition Loot (Campaign-Scoped)

These exist **only within an active campaign**.

Types:

1. Campaign-only upgrades
2. Consumables
3. Victory condition advancement items

All are discarded at campaign end.

---

## 8. Partial Success (Both Levels)

### Campaign-Level Partial Victory

Campaigns reward **degree of completion**, not perfection.

Example:

* Recover 3/3 archives → full reward
* Recover 2/3 → partial unlock
* Recover 1/3 → minimal record
* Recover 0 → failure

Partial success:

* encourages withdrawal
* rewards judgment
* preserves narrative continuity

---

### Expedition-Level Partial Completion

Individual expeditions may:

* retrieve damaged artifacts
* lose payload
* gain intel without material

These feed into campaign-level outcomes.

---

## 9. State Transitions (Authoritative)

```
HUB
 ├─ generate campaign scenarios
 ├─ recon (optional refinement)
 ├─ player selects scenario
 └─ ACCEPT → instantiate CampaignWorld

CAMPAIGN WORLD
 ├─ expeditions
 ├─ assaults
 ├─ progress victory condition
 ├─ WIN | PARTIAL | FAIL | ABANDON
 └─ RETURN → produce CampaignOutcome → destroy CampaignState

HUB (mutated)
```

There is:

* no free travel
* no shared map
* no rollback

---

## 10. Implementation Alignment

### Required Structural Mapping

* `GameState` → **CampaignState**
* Introduce `HubState`
* Campaign instantiation consumes a `CampaignScenario`
* Campaign resolution produces a `CampaignOutcome`
* HubState applies outcome and persists changes

---

### What Does Not Change

* Terminal command loop
* Deterministic ticks
* Assault resolution logic
* World-state simulation structure

This is a **layering change**, not a rewrite.

---

## 11. Design North Star (Locked)

The player does not accumulate power.

The player accumulates:

* context
* classification
* tolerance
* foresight

Victory is not domination.

Victory is **preservation with understanding**.

---

## 12. End of Document

This document defines the **canonical relationship** between the Hub and Campaign Worlds.

All future systems (Recon, Campaign Offers, Rewards, Endgame) must align with this model.

If ambiguity arises, **this model is the reference point**.
